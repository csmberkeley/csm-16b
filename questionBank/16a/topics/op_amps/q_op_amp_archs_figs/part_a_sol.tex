% Author: Dun-Ming Huang
% Email: dunmingbrandonhuang@berkeley.edu
% CSM16A Fall 2022
% Code for operational amplifier and comparator comes from q_comparators.tex of CSM16A

\begin{circuitikz}
    \draw (0,0) node[op amp,yscale=-1] (opamp) { }
      (opamp.out) node[right ] {$V_{out}$} 
      ;
	\draw (-0.2, -0.2) to [short] (0, -0.2) to [short] (0, 0.2) to [short] (0.2, 0.2);
    \draw
        (0, 0.5)
            to [short] (0, 1.0)
            to [V, l^=$5V$] (2, 1) node[ground]{}
        ;
    \node[draw=none,text=black] at (0, 2) {$V_{DD}$};
    \draw (0, -0.5) to [short] (0, -1.0) node[ground]{};
    \node[draw=none,text=black] at (0, -2) {$V_{SS}$};
    
    \draw[draw=black] (-11, 0) rectangle (-8, 1);
    \node[] at (-9.5, 0.5) {Sound Sensor};
    
    \draw (-8, 0.5) to [short] (-7.5, 0.5);
    
    \draw[draw=black] (-7.5, 0) rectangle (-3.5, 1);
    \node[] at (-5.5, 0.5) {Sound-Volt Converter};
    
    \draw
        (-3.5, 0.5)
            to [short] (opamp.+)
        (-3.5, -0.5) node[ground]{}
            to [V, invert, l_=$3V$] (opamp.-)
        ;
\end{circuitikz}